(function(e){function t(t){for(var n,s,o=t[0],i=t[1],a=t[2],b=0,d=[];b<o.length;b++)s=o[b],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&d.push(c[s][0]),c[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(d.length)d.shift()();return u.push.apply(u,a||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,o=1;o<r.length;o++){var i=r[o];0!==c[i]&&(n=!1)}n&&(u.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},c={app:0},u=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-table-test/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var l=i;u.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0291":function(e,t,r){"use strict";r("a8c3")},4356:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c={key:0,class:"actions"},u=Object(n["l"])("Загрузить данные");function s(e,t,r,s,o,i){var a=Object(n["M"])("app-loader"),l=Object(n["M"])("app-button"),b=Object(n["M"])("app-table"),d=Object(n["M"])("app-pagination");return Object(n["D"])(),Object(n["i"])(n["b"],null,[Object(n["m"])(a),i.userLength?(Object(n["D"])(),Object(n["i"])(b,{key:1,columns:o.gridColumns},null,8,["columns"])):(Object(n["D"])(),Object(n["i"])("div",c,[Object(n["m"])(l,{color:"btn-danger ms-3",fetch:!0},{default:Object(n["bb"])((function(){return[u]})),_:1})])),i.userLength?(Object(n["D"])(),Object(n["i"])(d,{key:2})):Object(n["j"])("",!0)],64)}var o=r("5530"),i=r("5502"),a={class:"table-responsive"},l={class:"table table-light table-hover"};function b(e,t,r,c,u,s){var o=Object(n["M"])("app-notification"),i=Object(n["M"])("app-form"),b=Object(n["M"])("app-row-table"),d=Object(n["M"])("app-user-info");return Object(n["D"])(),Object(n["i"])(n["b"],null,[Object(n["m"])(o),Object(n["m"])(i),Object(n["cb"])(Object(n["m"])("input",{class:"form-control",list:"datalistOptions",id:"exampleDataList",placeholder:"Type First name or Last name","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.inputSearch=e})},null,512),[[n["X"],u.inputSearch]]),Object(n["m"])("div",a,[Object(n["m"])("table",l,[Object(n["m"])("thead",null,[Object(n["m"])("tr",null,[(Object(n["D"])(!0),Object(n["i"])(n["b"],null,Object(n["K"])(r.columns,(function(e,t){return Object(n["D"])(),Object(n["i"])("th",{scope:"col",key:e,onClick:function(t){return s.sortBy(e)},class:{active:u.sortKey===e}},[Object(n["m"])("span",null,Object(n["Q"])(u.colText[t]),1),Object(n["m"])("i",{class:["el-icon-top",u.sortOrders[e]<0?"dsc":"asc"]},null,2)],10,["onClick"])})),128))])]),Object(n["m"])("tbody",null,[(Object(n["D"])(!0),Object(n["i"])(n["b"],null,Object(n["K"])(s.filteredUsers,(function(e){return Object(n["D"])(),Object(n["i"])(b,{key:e.id,user:e,onClick:function(t){return s.clickUser(e)}},null,8,["user","onClick"])})),128))])])]),Object(n["m"])(d,{user:u.user,onCloseUserInfo:t[2]||(t[2]=function(e){return u.user=null})},null,8,["user"])],64)}r("159b"),r("4de4"),r("b64b"),r("4e82"),r("fb6a");var d=Object(n["fb"])("data-v-cc61f070");Object(n["G"])("data-v-cc61f070");var m={scope:"row"};Object(n["E"])();var f=d((function(e,t,r,c,u,s){return Object(n["D"])(),Object(n["i"])("tr",null,[Object(n["m"])("th",m,Object(n["Q"])(r.user.id),1),Object(n["m"])("td",null,Object(n["Q"])(r.user.firstName),1),Object(n["m"])("td",null,Object(n["Q"])(r.user.lastName),1),Object(n["m"])("td",null,Object(n["Q"])(r.user.email),1),Object(n["m"])("td",null,Object(n["Q"])(r.user.phone),1)])})),O={props:{user:{type:Object}}};r("c701");O.render=f,O.__scopeId="data-v-cc61f070";var p=O,j=(r("a4d3"),r("e01a"),{key:0,class:"user-info"}),g=Object(n["l"])(" Выбран пользователь "),h={class:"card m-auto",style:{width:"25rem"}},v={class:"list-group list-group-flush"},y={class:"list-group-item bg-light"},P=Object(n["m"])("h4",null,"Описание:",-1),U={class:"list-group-item bg-light"},S=Object(n["m"])("h4",null,"Адресс проживания:",-1),w={class:"list-group-item bg-light"},N=Object(n["m"])("h4",null,"Город:",-1),F={class:"list-group-item bg-light"},_=Object(n["m"])("h4",null,"Провинция/штат:",-1),E={class:"list-group-item bg-light"},L=Object(n["m"])("h4",null,"Индекс:",-1),k={class:"list-group-item bg-light"};function D(e,t,r,c,u,s){return Object(n["D"])(),Object(n["i"])(n["d"],{name:"fade"},{default:Object(n["bb"])((function(){return[r.user?(Object(n["D"])(),Object(n["i"])("div",j,[Object(n["m"])("h2",null,[g,Object(n["m"])("b",null,Object(n["Q"])(r.user.firstName+" "+r.user.lastName),1)]),Object(n["m"])("div",h,[Object(n["m"])("ul",v,[Object(n["m"])("li",y,[P,Object(n["m"])("div",null,Object(n["Q"])(r.user.description?r.user.description:"Undefinded"),1)]),Object(n["m"])("li",U,[S,Object(n["m"])("div",null,[Object(n["m"])("b",null,Object(n["Q"])(r.user.address?r.user.address.streetAddress:"Undefined"),1)])]),Object(n["m"])("li",w,[N,Object(n["m"])("div",null,[Object(n["m"])("b",null,Object(n["Q"])(r.user.address?r.user.address.city:"Undefined"),1)])]),Object(n["m"])("li",F,[_,Object(n["m"])("div",null,[Object(n["m"])("b",null,Object(n["Q"])(r.user.address?r.user.address.state:"Undefined"),1)])]),Object(n["m"])("li",E,[L,Object(n["m"])("div",null,[Object(n["m"])("b",null,Object(n["Q"])(r.user.address?r.user.address.zip:"Undefined"),1)])]),Object(n["m"])("li",k,[Object(n["m"])("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=function(t){return e.$emit("close-user-info")})}," CLOSE ")])])])])):Object(n["j"])("",!0)]})),_:1})}var A={props:{user:{type:Object}}};r("d443");A.render=D;var C=A,M=Object(n["l"])("Create"),R=Object(n["l"])("Reset");function x(e,t,r,c,u,s){var o=Object(n["M"])("app-button"),i=Object(n["M"])("el-input"),a=Object(n["M"])("el-form-item"),l=Object(n["M"])("el-button"),b=Object(n["M"])("el-form"),d=Object(n["M"])("el-card"),m=Object(n["N"])("maska");return Object(n["D"])(),Object(n["i"])(n["b"],null,[Object(n["m"])(o,{onClick:t[1]||(t[1]=function(e){return u.isActiveForm=!u.isActiveForm}),color:"btn-info ms-auto mb-5"},{default:Object(n["bb"])((function(){return[Object(n["l"])(Object(n["Q"])(u.isActiveForm?"Close form":"Add"),1)]})),_:1}),Object(n["m"])(n["d"],{name:"slide-fade"},{default:Object(n["bb"])((function(){return[u.isActiveForm?(Object(n["D"])(),Object(n["i"])(d,{key:0,class:"box-card"},{default:Object(n["bb"])((function(){return[Object(n["m"])(b,{model:u.ruleForm,rules:u.rules,ref:"ruleForm","label-width":"120px",class:"demo-ruleForm"},{default:Object(n["bb"])((function(){return[Object(n["m"])(a,{label:"Id",prop:"id"},{default:Object(n["bb"])((function(){return[Object(n["m"])(i,{modelValue:u.ruleForm.id,"onUpdate:modelValue":t[2]||(t[2]=function(e){return u.ruleForm.id=e}),modelModifiers:{number:!0}},null,8,["modelValue"])]})),_:1}),Object(n["m"])(a,{label:"First Name",prop:"firstName"},{default:Object(n["bb"])((function(){return[Object(n["m"])(i,{modelValue:u.ruleForm.firstName,"onUpdate:modelValue":t[3]||(t[3]=function(e){return u.ruleForm.firstName=e})},null,8,["modelValue"])]})),_:1}),Object(n["m"])(a,{label:"Last Name",prop:"lastName"},{default:Object(n["bb"])((function(){return[Object(n["m"])(i,{modelValue:u.ruleForm.lastName,"onUpdate:modelValue":t[4]||(t[4]=function(e){return u.ruleForm.lastName=e})},null,8,["modelValue"])]})),_:1}),Object(n["m"])(a,{prop:"email",label:"email"},{default:Object(n["bb"])((function(){return[Object(n["m"])(i,{modelValue:u.ruleForm.email,"onUpdate:modelValue":t[5]||(t[5]=function(e){return u.ruleForm.email=e})},null,8,["modelValue"])]})),_:1}),Object(n["m"])(a,{prop:"phone",label:"Phone"},{default:Object(n["bb"])((function(){return[Object(n["cb"])(Object(n["m"])(i,{modelValue:u.ruleForm.phone,"onUpdate:modelValue":t[6]||(t[6]=function(e){return u.ruleForm.phone=e}),placeholder:"(999)999-9999"},null,8,["modelValue"]),[[m,"(###)###-####"]])]})),_:1}),Object(n["m"])(a,{class:"el-form-item--ml-0"},{default:Object(n["bb"])((function(){return[Object(n["m"])(l,{type:"primary",onClick:t[7]||(t[7]=function(e){return s.submitForm("ruleForm")})},{default:Object(n["bb"])((function(){return[M]})),_:1}),Object(n["m"])(l,{onClick:t[8]||(t[8]=function(e){return s.resetForm("ruleForm")})},{default:Object(n["bb"])((function(){return[R]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])]})),_:1})):Object(n["j"])("",!0)]})),_:1})],64)}r("8ba4"),r("a9e3");function T(e,t,r,c,u,s){return Object(n["D"])(),Object(n["i"])("button",{class:["btn",r.color],onClick:t[1]||(t[1]=function(){return s.clickButton&&s.clickButton.apply(s,arguments)})},[Object(n["L"])(e.$slots,"default")],2)}var G={props:["color","fetch"],methods:Object(o["a"])(Object(o["a"])({},Object(i["b"])(["fetchUsers"])),{},{clickButton:function(){this.fetch&&this.fetchUsers(this.size)}})};r("64d5");G.render=T;var V=G,I={components:{AppButton:V},data:function(){var e=function(e,t,r){if(!t)return r(new Error("Please input the id"));Number.isInteger(t)?r():r(new Error("Please input digits"))};return{isActiveForm:!1,ruleForm:{id:"",lastName:"",firstName:"",email:"",phone:""},rules:{firstName:[{required:!0,message:"Please input First Name",trigger:"blur"},{min:3,max:10,message:"Length should be 3 to 10",trigger:"blur"}],lastName:[{required:!0,message:"Please input Last Name",trigger:"blur"},{min:3,max:10,message:"Length should be 3 to 10",trigger:"blur"}],id:[{validator:e,trigger:"blur"}],email:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}],phone:[{required:!0,message:"Please input phone number",trigger:"blur"}]}}},methods:Object(o["a"])({submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var r={id:t.ruleForm.id,firstName:t.ruleForm.firstName,lastName:t.ruleForm.lastName,email:t.ruleForm.email,phone:t.ruleForm.phone};t.addUser(r),t.$refs.ruleForm.resetFields()}))},resetForm:function(e){this.$refs[e].resetFields()}},Object(i["b"])(["addUser"]))};r("8003");I.render=x;var Q=I;function B(e,t,r,c,u,s){return Object(n["D"])(),Object(n["i"])("div")}var K={methods:{showNotice:function(e){var t=e.title,r=e.message,n=e.type;this.$notify["".concat(n)]({title:t,message:r})}},computed:Object(o["a"])({},Object(i["c"])(["notice"])),watch:{notice:function(e){this.showNotice(e)}}};K.render=B;var $=K,q={components:{AppRowTable:p,AppUserInfo:C,AppForm:Q,AppNotification:$},props:["columns"],data:function(){var e={};return this.columns.forEach((function(t){e[t]=1})),{sortOrders:e,sortKey:"",inputSearch:"",user:null,isActiveForm:!1,colText:["id","First name","Last name","email","phone"]}},methods:{clickUser:function(e){this.user=e},sortBy:function(e){this.sortKey=e,this.sortOrders[e]=-1*this.sortOrders[e]}},computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])(["userSliced","users"])),{},{filteredUsers:function(){var e=this.sortKey,t=this.inputSearch&&this.inputSearch.toLowerCase(),r=this.sortOrders[this.sortKey]||1,n=this.userSliced;return t&&(n=this.users.filter((function(e){return Object.keys(e).some((function(r){return String(e[r]).toLowerCase().indexOf(t)>-1}))}))),e&&(n=n.slice().sort((function(t,n){return t=t[e],n=n[e],(t===n?0:t>n?1:-1)*r}))),n},changeSortIcon:function(){return 1!==this.order}})};r("0291");q.render=b;var z=q,W={key:0,class:"spinner-wrapp"},J=Object(n["m"])("div",{class:"spinner-border",role:"status"},[Object(n["m"])("span",{class:"visually-hidden"},"Loading...")],-1);function X(e,t,r,c,u,s){return e.loader?(Object(n["D"])(),Object(n["i"])("div",W,[J])):Object(n["j"])("",!0)}var H={computed:Object(o["a"])({},Object(i["c"])(["loader"]))};r("daa5");H.render=X;var Y=H;function Z(e,t,r,c,u,s){var o=Object(n["M"])("el-pagination");return Object(n["D"])(),Object(n["i"])(o,{background:"",layout:u.layout,currentPage:s.currentPageModel,"onUpdate:currentPage":t[1]||(t[1]=function(e){return s.currentPageModel=e}),total:e.totalUsers,"page-size":e.usersPerPage},null,8,["layout","currentPage","total","page-size"])}var ee={data:function(){return{layout:"prev, pager, next"}},methods:Object(o["a"])({},Object(i["b"])(["changeCurrentPage"])),computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])(["totalUsers","usersPerPage","currentPage"])),{},{currentPageModel:{get:function(){return this.currentPage},set:function(e){this.changeCurrentPage(e)}},isSmallWindow:function(){return window.innerWidth<=500}}),mounted:function(){this.isSmallWindow&&(this.layout="prev, next")}};r("bc33");ee.render=Z;var te=ee,re={name:"App",components:{AppTable:z,AppLoader:Y,AppPagination:te,AppButton:V},data:function(){return{gridColumns:["id","firstName","lastName","email","phone"]}},computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])(["userSliced"])),{},{userLength:function(){return this.userSliced.length}})};r("ce33");re.render=s;var ne=re,ce=r("6c02"),ue=[{path:"/",name:"App",component:ne}],se=Object(ce["a"])({history:Object(ce["b"])(),routes:ue}),oe=se,ie=r("1da1"),ae=r("ade3"),le=(r("96cf"),r("c740"),r("99af"),r("bc3a")),be=r.n(le);function de(e){return e.data}var me=function(e){e.interceptors.response.use(de)},fe=be.a.create({baseURL:"http://www.filltext.com"});me(fe);var Oe,pe=fe,je={USERS:"USERS",USERS_SLICED:"USERS_SLICED",CURRENT_PAGE:"CURRENT_PAGE",TOGGLE_LOADER:"TOGGLE_LOADER",ADD_USER:"ADD_USER",TOGGLE_NOTICE:"TOGGLE_NOTICE"},ge=je.USERS,he=je.USERS_SLICED,ve=je.CURRENT_PAGE,ye=je.ADD_USER,Pe={state:{users:[],usersPerPage:50,userSliced:[],currentPage:1},getters:{totalUsers:function(e){return e.users.length},users:function(e){return e.users},usersPerPage:function(e){return e.usersPerPage},currentPage:function(e){return e.currentPage},sliceUsers:function(e){return function(t,r){return e.users.slice(t,r)}},userSliced:function(e){return e.userSliced},usersMap:function(e){return e.users.reduce((function(e,t,r){return e[t.id]=r,e}),{})},currentUser:function(e,t){return function(r){return e.users[t.usersMap[r]]}}},mutations:(Oe={},Object(ae["a"])(Oe,ge,(function(e,t){e.users=t})),Object(ae["a"])(Oe,he,(function(e,t){e.userSliced=t})),Object(ae["a"])(Oe,ve,(function(e,t){e.currentPage=t})),Object(ae["a"])(Oe,ye,(function(e,t){e.users.unshift(t)})),Oe),actions:{fetchUsers:function(e){return Object(ie["a"])(regeneratorRuntime.mark((function t(){var r,n,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.dispatch,t.prev=1,n("toggleLoader",!0,{root:!0}),t.next=5,pe.get("https://data-table-vue-4257c-default-rtdb.europe-west1.firebasedatabase.app/data.json");case 5:c=t.sent,u=c.filter((function(e,t,r){return t===r.findIndex((function(t){return t.id===e.id}))})),r(ge,u),n("pullUserSliced"),t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](1),n("toggleNotice",{title:"Try to access to data",message:"awfwaf",type:"error"},{root:!0}),alert("".concat(t.t0.message," (Make sure you allowed the web-browser to access website's data)")),console.log(t.t0);case 16:return t.prev=16,n("toggleLoader",!1,{root:!0}),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,11,16,19]])})))()},pullUserSliced:function(e){var t=e.commit,r=e.getters,n=(r.currentPage-1)*r.usersPerPage,c=r.currentPage*r.usersPerPage,u=r.sliceUsers(n,c);t(he,u)},changeCurrentPage:function(e,t){var r=e.commit,n=e.dispatch;r(ve,t),n("pullUserSliced")},addUser:function(e,t){var r=e.commit,n=e.getters,c=e.dispatch,u=n.currentUser(t.id);1!==n.currentPage&&c("changeCurrentPage",1),u?c("toggleNotice",{title:"Adding new User",message:"User with this id(".concat(t.id,") is already added"),type:"error"},{root:!0}):(r(ye,t),c("pullUserSliced"),c("toggleNotice",{title:"Adding new User",message:"".concat(t.firstName," ").concat(t.lastName," was added"),type:"success"},{root:!0}))}}},Ue=Pe,Se=je.TOGGLE_LOADER,we={state:{isLoader:!1},getters:{loader:function(e){return e.isLoader}},mutations:Object(ae["a"])({},Se,(function(e,t){e.isLoader=t})),actions:{toggleLoader:function(e,t){var r=e.commit;r(Se,t)}}},Ne=we,Fe=je.TOGGLE_NOTICE,_e={state:{notice:null},getters:{notice:function(e){return e.notice}},mutations:Object(ae["a"])({},Fe,(function(e,t){e.notice=t})),actions:{toggleNotice:function(e,t){var r=e.commit;r(Fe,t)}}},Ee=_e,Le=Object(i["a"])({state:{},mutations:{},actions:{},modules:{usersStore:Ue,loader:Ne,notice:Ee}}),ke=Le,De=r("3fd4"),Ae=(r("c69f"),function(e){e.use(De["a"])}),Ce=(r("21b6"),r("795b")),Me=Object(n["h"])(ne);Me.use(Ce["a"]),Me.use(Ae),Me.use(ke).use(oe).mount("#app")},"64d5":function(e,t,r){"use strict";r("fce8")},"749b":function(e,t,r){},8003:function(e,t,r){"use strict";r("749b")},"8f75":function(e,t,r){},a8c3:function(e,t,r){},bc33:function(e,t,r){"use strict";r("e082")},c69f:function(e,t,r){},c701:function(e,t,r){"use strict";r("fb27")},ce33:function(e,t,r){"use strict";r("f3e7")},d443:function(e,t,r){"use strict";r("4356")},daa5:function(e,t,r){"use strict";r("8f75")},e082:function(e,t,r){},f3e7:function(e,t,r){},fb27:function(e,t,r){},fce8:function(e,t,r){}});
//# sourceMappingURL=app.20fdb311.js.map